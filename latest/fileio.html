<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tabular File IO · Julia for Data Science</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Julia for Data Science</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Julia for Data Science</a></li><li><a class="toctext" href="setup.html">Setup</a></li><li class="current"><a class="toctext" href="fileio.html">Tabular File IO</a><ul class="internal"><li><a class="toctext" href="#Getting-Started-1">Getting Started</a></li><li><a class="toctext" href="#CSV-Files-1">CSV Files</a></li><li><a class="toctext" href="#Feather-Files-1">Feather Files</a></li><li><a class="toctext" href="#Excel-Files-1">Excel Files</a></li><li><a class="toctext" href="#Stata,-SPSS,-and-SAS-Files-1">Stata, SPSS, and SAS Files</a></li><li><a class="toctext" href="#Alternative-Packages-1">Alternative Packages</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="fileio.html">Tabular File IO</a></li></ul><a class="edit-page" href="https://github.com/davidanthoff/jl4ds/blob/master/docs/src/fileio.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Tabular File IO</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Tabular-File-IO-1" href="#Tabular-File-IO-1">Tabular File IO</a></h1><p>This chapter will teach you how to read and write data from files. We will limit the discussion to tabular data, i.e. data that has the structure of a table.</p><h2><a class="nav-anchor" id="Getting-Started-1" href="#Getting-Started-1">Getting Started</a></h2><h3><a class="nav-anchor" id="Loading-Data-1" href="#Loading-Data-1">Loading Data</a></h3><p>The main function for reading tabular data from disc is the <code>load</code> function from the <a href="https://github.com/JuliaIO/FileIO.jl">FileIO.jl</a> package. You always pass a filename as the first argument to the <code>load</code> function. For some file formats you can also pass additional arguments that control the details of how the data is loaded. You will learn about those additional arguments later in the chapter.</p><p>It is often convenient to materialize the data from a tabular file into a data structure like a <code>DataFrame</code>. You can do that easily by passing the return value from the <code>load</code> function to the <code>DataFrame</code> constructor, like this:</p><pre><code class="language-julia">using Dataverse

df = DataFrame(load(&quot;mydata.csv&quot;))</code></pre><p>You can also use the pipe syntax to achieve the same result:</p><pre><code class="language-julia">using Dataverse

df = load(&quot;mydata.csv&quot;) |&gt; DataFrame</code></pre><p>The pipe syntax is particularly useful when you want to apply some data transformation to the data that you are loading. For example, you can filter the data before you materialize it into a <code>DataFrame</code> like this:</p><pre><code class="language-julia">using Dataverse

df = load(&quot;mydata.csv&quot;) |&gt; @filter(_.age&gt;20) |&gt; DataFrame</code></pre><p>The <code>load</code> function can load many different tabular file formats. The following code loads an Excel file:</p><pre><code class="language-julia">using Dataverse

df = load(&quot;mydata.xlsx&quot;, &quot;Sheet1&quot;) |&gt; DataFrame</code></pre><p>Note how we have to pass the name of the sheet to read as a second argument to the <code>load</code> function for Excel files.</p><p>A full list of supported file formats is provided later in this chapter.</p><p>You can also use the <code>load</code> function to acquire data from a remote server by passing a URI as the filename. The following code loads a CSV file from a remote server:</p><pre><code class="language-julia">using Dataverse

df = load(&quot;https://raw.githubusercontent.com/davidanthoff/CSVFiles.jl/master/test/data.csv&quot;) |&gt; DataFrame</code></pre><h3><a class="nav-anchor" id="Saving-Data-1" href="#Saving-Data-1">Saving Data</a></h3><p>The <code>save</code> function from the <a href="https://github.com/JuliaIO/FileIO.jl">FileIO.jl</a> package is the main function to save tabular data to disc. The first argument to the <code>save</code> function is the filename you want to use for the file. The file extension of that filename will determine in what format the data will be written to disc. The second argument is the table you want to write to disc. Here is a simple example that writes some data to a CSV file:</p><pre><code class="language-julia">using Dataverse

df = DataFrame(Name=[&quot;Jim&quot;, &quot;Sally&quot;, &quot;John&quot;], Age=[23., 56., 34.])

save(&quot;mydata.csv&quot;, df)</code></pre><p>You can also use the pipe syntax with the <code>save</code> function:</p><pre><code class="language-julia">using Dataverse

df = DataFrame(Name=[&quot;Jim&quot;, &quot;Sally&quot;, &quot;John&quot;], Age=[23., 56., 34.])

df |&gt; save(&quot;mydata.csv&quot;)</code></pre><p>The <code>save</code> function works with any tabular data structure, not just <code>DataFrame</code>s and it supports many different file formats. The following code shows how you can load data from a CSV file, filter it and then write it out directly as a Feather file, without ever materializing it into a <code>DataFrame</code>:</p><pre><code class="language-julia">using Dataverse

load(&quot;mydata.csv&quot;) |&gt; @filter(_.age&gt;23) |&gt; save(&quot;mydata.feather&quot;)</code></pre><p>For some file formats you can pass additional configuration arguments to the <code>save</code> function that control in detail how the file is written to disc. The following example writes a table to disc as a CSV file, but uses a non-standard delimeter character and also does not write a header to the file:</p><pre><code class="language-julia">using Dataverse

df = DataFrame(Name=[&quot;Jim&quot;, &quot;Sally&quot;, &quot;John&quot;], Age=[23., 56., 34.])

df |&gt; save(&quot;mydata.csv&quot;, delim=&#39;;&#39;, header=false)</code></pre><h2><a class="nav-anchor" id="CSV-Files-1" href="#CSV-Files-1">CSV Files</a></h2><p>[TODO add general description of CSV files]</p><h3><a class="nav-anchor" id="Loading-CSV-Files-1" href="#Loading-CSV-Files-1">Loading CSV Files</a></h3><p>If you pass a filename with the extension <code>*.csv</code> to the <code>load</code> function, <a href=".">FileIO.jl</a> will use the <a href=".">CSVFiles.jl</a> package to load that file. The package supports filenames that point to a file on your local computer and URLs that point to a file on remote server:</p><pre><code class="language-julia">using Dataverse

# Load a local file
df = load(&quot;mycsv.csv&quot;) |&gt; DataFrame

# Load a remote file
url = &quot;https://raw.githubusercontent.com/davidanthoff/CSVFiles.jl/master/test/data.csv&quot;
df = load(url) |&gt; DataFrame</code></pre><h4><a class="nav-anchor" id="Specifying-a-different-delimter-character-1" href="#Specifying-a-different-delimter-character-1">Specifying a different delimter character</a></h4><p>By default CSV files use a comma (<code>,</code>) to separate content in different columns. While that is the most common case, CSV files often use a different character to separate content in different columns. For example, you might want to read a file like this example that uses a semicolon (<code>;</code>) to separate columns:</p><pre><code class="language-none">Name;Age
John;34
Sally;52</code></pre><p>You can tell <code>load</code> to use a different character as the delimiter between columns by passing a <code>Char</code> value as the second argument to the <code>load</code> function:</p><pre><code class="language-julia">using Dataverse

df = load(&quot;mycsvfile_with_semicolon.csv&quot;, &#39;;&#39;) |&gt; DataFrame</code></pre><p>You can tell <code>load</code> to use any character as the column delimiter signal. Another common case besides the semicolon is a tab charachter, which you can pass easily enter as <code>&#39;\t&#39;</code>.</p><h4><a class="nav-anchor" id="Column-Names-1" href="#Column-Names-1">Column Names</a></h4><h3><a class="nav-anchor" id="Saving-CSV-Files-1" href="#Saving-CSV-Files-1">Saving CSV Files</a></h3><h2><a class="nav-anchor" id="Feather-Files-1" href="#Feather-Files-1">Feather Files</a></h2><p>[TODO]</p><h2><a class="nav-anchor" id="Excel-Files-1" href="#Excel-Files-1">Excel Files</a></h2><p>[TODO]</p><h2><a class="nav-anchor" id="Stata,-SPSS,-and-SAS-Files-1" href="#Stata,-SPSS,-and-SAS-Files-1">Stata, SPSS, and SAS Files</a></h2><p>[TODO]</p><h2><a class="nav-anchor" id="Alternative-Packages-1" href="#Alternative-Packages-1">Alternative Packages</a></h2><p>This section described how you can use packages from the Dataverse to load and save data. While those are useful, they are not the only julia packages that you can use for tabular file IO, in fact there are many other excellent packages for those tasks. I encourage you to explore those packages and use them whenever they are a good fit for your work. Here is an (incomplete) list of other packages you might want to take a look at:</p><ul><li><p><a href="https://github.com/JuliaData/CSV.jl">CSV.jl</a>.</p></li><li><p><a href="https://github.com/cjprybol/uCSV.jl">uCSV.jl</a>.</p></li><li><p><a href="https://github.com/JuliaComputing/TextParse.jl">TextParse.jl</a> (*).</p></li><li><p><a href="https://github.com/strickek/ReadWriteDlm2.jl">ReadWriteDlm2.jl</a>.</p></li><li><p><a href="https://github.com/JuliaData/Feather.jl">Feather.jl</a> (*).</p></li><li><p><a href="https://github.com/WizardMac/ReadStat.jl">ReadStat.jl</a> (*).</p></li><li><p><a href="https://github.com/davidanthoff/ExcelReaders.jl">ExcelReaders.jl</a> (*).</p></li><li><p><a href="https://github.com/aviks/Taro.jl">Taro.jl</a>.</p></li><li><p><a href="https://github.com/CiaranOMara/Bedgraph.jl">Bedgraph.jl</a> (*).</p></li><li><p><a href="https://github.com/JuliaData/DBFTables.jl">DBFTables.jl</a>.</p></li><li><p><a href="https://github.com/JuliaStats/RData.jl">RData.jl</a>.</p></li></ul><p>Note that some of these packages actually power the Dataverse file IO packages, I have denoted those packages with (*).</p><footer><hr/><a class="previous" href="setup.html"><span class="direction">Previous</span><span class="title">Setup</span></a></footer></article></body></html>
